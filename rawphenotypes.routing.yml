# Routes for managing Rawphenotypes module (laid out in tabs).
# @see rawphenotypes.links.task.yml

# Configure Raw Phenotypes module.
rawphenotypes.configure:
  path: 'admin/tripal/extension/rawphenotypes'
  defaults:
    _title: 'Configure Raw Phenotypes Module'
    _form: '\Drupal\rawphenotypes\Form\RawphenotypesConfigurationForm'
  requirements:
    _permission: 'administer tripal'

rawphenotypes.rtransform:
  path: 'admin/tripal/extension/rawphenotypes/rtransform'
  defaults:
    _title: 'Configure R Tranformation Rules'
    _form: '\Drupal\rawphenotypes\Form\RawphenotypesRTransformForm'
  requirements:
    _permission: 'administer tripal'

rawphenotypes.projects:
  path: 'admin/tripal/extension/rawphenotypes/projects'
  defaults:
    _title: 'Manage Phenotyping Experiments'
    _form: '\Drupal\rawphenotypes\Form\RawphenotypesManageProjectForm'
  requirements:
    _permission: 'administer tripal'

# Project assets management and operation.   
rawphenotypes.manage_project:
  path: 'admin/tripal/extension/rawphenotypes/projects/{asset_id}/{asset_type}/{action}'
  defaults:
    _title: 'Manage Phenotyping Experiments'
    _form: '\Drupal\rawphenotypes\Form\RawphenotypesManageAssetForm'
  requirements:
    _permission: 'administer tripal'
    asset_id: '[0-9]+'
    asset_type: 'project|header|user|envdata'
    action: 'manage|edit|delete'


# Page routes.

# Instructions page.
rawphenotypes.page_instructions:
  path: 'rawphenotypes/instructions/{project_id}'
  defaults:
    _title: 'Instructions'
    _controller: '\Drupal\rawphenotypes\Controller\RawphenotypesPageInstructionsController:loadPage'
    project_id: '0'
  requirements:
    _permission: 'admister tripal'
    project_id: '[0-9]+'


# Autocomplete routes.
rawphenotypes.autocomplete.user:
  path: 'admin/tripal/extension/rawphenotypes/user'
  defaults:
    #_controller: '\Drupal\rawphenotypes\Controller\RawphenotypesAutocompleteUserController::result'
    _format: json
  requirements:
    _permission: 'administer tripal'
    